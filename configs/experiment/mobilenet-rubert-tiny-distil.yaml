# @package _global_

defaults:
  - override /data: distil
  - override /model: distil
  - override /trainer: ddp

data:
  path_train: /data/sporkhun/TinyClip/data/train_v3.tsv
  path_val: /data/sporkhun/TinyClip/data/valid_v3.tsv
  path_test: /data/sporkhun/TinyClip/data/valid_v3.tsv
  max_length: 512
  teacher_max_length: 77

model:
  img_part: 1.0
  txt_part: 0.8

trainer:
  accumulate_grad_batches: 4
  max_epochs: 60

count_steps: 3_000
batch_size: 600
image_pretrained: google/mobilenet_v2_1.0_224 # google/mobilenet_v2_1.4_224 | google/mobilenet_v2_0.75_160 | google/mobilenet_v2_0.35_96
text_pretrained: cointegrated/rubert-tiny2
embedding_dim: 128
teacher_pretrained: openai/clip-vit-large-patch14
teacher_embedding_dim: 768

seed: 0xFEED

tags: ["mobilenetv2", "rubert-tiny"]

task_name: "train-mobilenet-rubert-distil"
